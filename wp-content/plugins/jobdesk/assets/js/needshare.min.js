window.needShareDropdown=function(o,e){function t(o,e){if("string"==typeof e){var t=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector;if(t)for(;o;){if(t.bind(o)(e))return o;o=o.parentElement}return!1}for(;o;){if(o==e)return o;o=o.parentElement}return!1}var n=this;for(var i in n.elem=o,n.elem.className+=n.elem.className.length?" need-share-button":"need-share-button",n.getTitle=function(){var o;return document.querySelector?(o=document.querySelector('meta[property="og:title"]')||document.querySelector('meta[name="twitter:title"]'))?o.getAttribute("content"):(o=document.querySelector("title"))?o.innerText:"":(o=document.title)?o.innerText:""},n.getImage=function(){var o;return document.querySelector&&(o=document.querySelector('meta[property="og:image"]')||document.querySelector('meta[name="twitter:image"]'))?o.getAttribute("content"):""},n.getDescription=function(){var o;return document.querySelector?(o=document.querySelector('meta[property="og:description"]')||document.querySelector('meta[name="twitter:description"]')||document.querySelector('meta[name="description"]'))?o.getAttribute("content"):"":(o=document.getElementsByTagName("meta").namedItem("description"))?o.getAttribute("content"):""},n.share={mailto:function(){var o="mailto:?subject="+encodeURIComponent(n.options.title)+"&body=Thought you might enjoy reading this: "+encodeURIComponent(n.options.url)+" - "+encodeURIComponent(n.options.description);window.location.href=o},twitter:function(){var o=n.options.protocol+"twitter.com/home?status=";o+=encodeURIComponent(n.options.title)+encodeURIComponent(n.options.url),n.popup(o)},pinterest:function(){var o=n.options.protocol+"pinterest.com/pin/create/bookmarklet/?is_video=false";o+="&media="+encodeURIComponent(n.options.image),o+="&url="+encodeURIComponent(n.options.url),o+="&description="+encodeURIComponent(n.options.title),n.popup(o)},facebook:function(){var o=n.options.protocol+"www.facebook.com/share.php?";o+="u="+encodeURIComponent(n.options.url),o+="&title="+encodeURIComponent(n.options.title),n.popup(o)},googleplus:function(){var o=n.options.protocol+"plus.google.com/share?";o+="url="+encodeURIComponent(n.options.url),n.popup(o)},reddit:function(){var o=n.options.protocol+"www.reddit.com/submit?";o+="url="+encodeURIComponent(n.options.url),o+="&title="+encodeURIComponent(n.options.title),n.popup(o)},delicious:function(){var o=n.options.protocol+"del.icio.us/post?";o+="url="+encodeURIComponent(n.options.url),o+="&title="+encodeURIComponent(n.options.title),o+="&notes="+encodeURIComponent(n.options.description),n.popup(o)},tapiture:function(){var o=n.options.protocol+"tapiture.com/bookmarklet/image?";o+="img_src="+encodeURIComponent(n.options.image),o+="&page_url="+encodeURIComponent(n.options.url),o+="&page_title="+encodeURIComponent(n.options.title),n.popup(o)},stumbleupon:function(){var o=n.options.protocol+"www.stumbleupon.com/submit?";o+="url="+encodeURIComponent(n.options.url),o+="&title="+encodeURIComponent(n.options.title),n.popup(o)},linkedin:function(){var o=n.options.protocol+"www.linkedin.com/shareArticle?mini=true";o+="&url="+encodeURIComponent(n.options.url),o+="&title="+encodeURIComponent(n.options.title),o+="&source="+encodeURIComponent(n.options.source),n.popup(o)},slashdot:function(){var o=n.options.protocol+"slashdot.org/bookmark.pl?";o+="url="+encodeURIComponent(n.options.url),o+="&title="+encodeURIComponent(n.options.title),n.popup(o)},technorati:function(){var o=n.options.protocol+"technorati.com/faves?";o+="add="+encodeURIComponent(n.options.url),o+="&title="+encodeURIComponent(n.options.title),n.popup(o)},posterous:function(){var o=n.options.protocol+"posterous.com/share?";o+="linkto="+encodeURIComponent(n.options.url),n.popup(o)},tumblr:function(){var o=n.options.protocol+"www.tumblr.com/share?v=3";o+="&u="+encodeURIComponent(n.options.url),o+="&t="+encodeURIComponent(n.options.title),n.popup(o)},googlebookmarks:function(){var o=n.options.protocol+"www.google.com/bookmarks/mark?op=edit";o+="&bkmk="+encodeURIComponent(n.options.url),o+="&title="+encodeURIComponent(n.options.title),o+="&annotation="+encodeURIComponent(n.options.description),n.popup(o)},newsvine:function(){var o=n.options.protocol+"www.newsvine.com/_tools/seed&save?";o+="u="+encodeURIComponent(n.options.url),o+="&h="+encodeURIComponent(n.options.title),n.popup(o)},pingfm:function(){var o=n.options.protocol+"ping.fm/ref/?";o+="link="+encodeURIComponent(n.options.url),o+="&title="+encodeURIComponent(n.options.title),o+="&body="+encodeURIComponent(n.options.description),n.popup(o)},evernote:function(){var o=n.options.protocol+"www.evernote.com/clip.action?";o+="url="+encodeURIComponent(n.options.url),o+="&title="+encodeURIComponent(n.options.title),n.popup(o)},friendfeed:function(){var o=n.options.protocol+"www.friendfeed.com/share?";o+="url="+encodeURIComponent(n.options.url),o+="&title="+encodeURIComponent(n.options.title),n.popup(o)},vkontakte:function(){var o=n.options.protocol+"vkontakte.ru/share.php?";o+="url="+encodeURIComponent(n.options.url),o+="&title="+encodeURIComponent(n.options.title),o+="&description="+encodeURIComponent(n.options.description),o+="&image="+encodeURIComponent(n.options.image),o+="&noparse=true",n.popup(o)},odnoklassniki:function(){var o=n.options.protocol+"www.odnoklassniki.ru/dk?st.cmd=addShare&st.s=1";o+="&st.comments="+encodeURIComponent(n.options.description),o+="&st._surl="+encodeURIComponent(n.options.url),n.popup(o)},mailru:function(){var o=n.options.protocol+"connect.mail.ru/share?";o+="url="+encodeURIComponent(n.options.url),o+="&title="+encodeURIComponent(n.options.title),o+="&description="+encodeURIComponent(n.options.description),o+="&imageurl="+encodeURIComponent(n.options.image),n.popup(o)}},n.popup=function(o){var e=500,t=400,n=null!=window.screenLeft?window.screenLeft:screen.left,i=null!=window.screenTop?window.screenTop:screen.top,r=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,p=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,s=r/2-e/2+n,d=p/2-t/2+i,c=window.open(o,"targetWindow","toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width="+e+", height="+t+", top="+d+", left="+s);window.focus&&c.focus()},n.options={shareButtonClass:!1,iconStyle:"default",boxForm:"horizontal",position:"bottomCenter",buttonText:"Share",protocol:-1===["http","https"].indexOf(window.location.href.split(":")[0])?"https://":"//",url:window.location.href,title:n.getTitle(),image:n.getImage(),description:n.getDescription(),networks:"Mailto,Twitter,Pinterest,Facebook,GooglePlus,Reddit,Delicious,Tapiture,StumbleUpon,Linkedin,Slashdot,Technorati,Posterous,Tumblr,GoogleBookmarks,Newsvine,Pingfm,Evernote,Friendfeed,Vkontakte,Odnoklassniki,Mailru"},e)n.options[i]=e[i];for(var r in n.elem.dataset)if(r.match(/share/)){var p=r.replace(/share/,"");if(!p.length)continue;p=p.charAt(0).toLowerCase()+p.slice(1),n.options[p]=n.elem.dataset[r]}if(n.options.networks=n.options.networks.toLowerCase().split(","),n.options.shareButtonClass)for(i=0;i<n.elem.children.length;i++)n.elem.children[i].className.match(n.options.shareButtonClass)&&(n.button=n.elem.children[i]);n.button||(n.button=document.createElement("span"),n.button.innerText=n.options.buttonText,n.elem.appendChild(n.button)),n.button.className+=" need-share-button_button",n.button.addEventListener("click",function(o){o.preventDefault(),n.elem.className.match(/need-share-button-opened/)?n.elem.className=n.elem.className.replace(/\s*need-share-button-opened/g,""):n.elem.className+=" need-share-button-opened"}),n.dropdown=document.createElement("span"),n.dropdown.className="need-share-button_dropdown",n.elem.appendChild(n.dropdown),"box"==n.options.iconStyle&&"horizontal"==n.options.boxForm?n.dropdown.className+=" need-share-button_dropdown-box-horizontal":"box"==n.options.iconStyle&&"vertical"==n.options.boxForm&&(n.dropdown.className+=" need-share-button_dropdown-box-vertical"),setTimeout(function(){switch(n.options.position){case"topLeft":n.dropdown.className+=" need-share-button_dropdown-top-left";break;case"topRight":n.dropdown.className+=" need-share-button_dropdown-top-right";break;case"topCenter":n.dropdown.className+=" need-share-button_dropdown-top-center",n.dropdown.style.marginLeft=-n.dropdown.offsetWidth/2+"px";break;case"middleLeft":n.dropdown.className+=" need-share-button_dropdown-middle-left",n.dropdown.style.marginTop=-n.dropdown.offsetHeight/2+"px";break;case"middleRight":n.dropdown.className+=" need-share-button_dropdown-middle-right",n.dropdown.style.marginTop=-n.dropdown.offsetHeight/2+"px";break;case"bottomLeft":n.dropdown.className+=" need-share-button_dropdown-bottom-left";break;case"bottomRight":n.dropdown.className+=" need-share-button_dropdown-bottom-right";break;case"bottomCenter":n.dropdown.className+=" need-share-button_dropdown-bottom-center",n.dropdown.style.marginLeft=-n.dropdown.offsetWidth/2+"px";break;default:n.dropdown.className+=" need-share-button_dropdown-bottom-center",n.dropdown.style.marginLeft=-n.dropdown.offsetWidth/2+"px"}},1);var s="default"==n.options.iconStyle?"need-share-button_link need-share-button_":"need-share-button_link-"+n.options.iconStyle+" need-share-button_link need-share-button_";for(var d in n.options.networks){var c=document.createElement("span");d=n.options.networks[d],c.className=s+d,c.dataset.network=d,n.dropdown.appendChild(c),c.addEventListener("click",function(){n.share[this.dataset.network]()})}document.addEventListener("click",function(o){t(o.target.parentNode,n.elem)||(n.elem.className=n.elem.className.replace(/\s*need-share-button-opened/g,""))})};